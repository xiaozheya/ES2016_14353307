# Deadlock

先放一张截图

![deadlock](http://p1.bqimg.com/567571/d4d1502ffa6c72fd.png)

##### 死锁的四个条件

1. 互斥条件：一个资源每次只能被一个进程使用。
2. 请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放。
3. 不剥夺条件：进程已获得的资源，在未使用完之前，不能强行剥夺。
4. 循环等待条件：若干进程之间形成一种首尾相接的循环等待资源关系。

##### 程序产生死锁的解释

两个method在定义的时候使用了synchronized保证了这段代码同时只能被一个进程执行，当其他进程访问这段代码时会导致访问阻塞，满足了四个条件里的互斥条件和请求与保持条件。不剥夺条件在没写特定代码的情况下，程序逻辑直接满足这个条件。代码的内容是互相调用，满足了循环等待条件。所以调好等待时间，即有可能产生死锁。